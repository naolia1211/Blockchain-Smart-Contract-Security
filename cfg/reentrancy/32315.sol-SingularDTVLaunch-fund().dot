digraph{
0[label="Node Type: ENTRY_POINT 0
"];
0->30;
1[label="Node Type: NEW VARIABLE 1

EXPRESSION:
tokenCount = (msg.value * (10 ** 18)) / valuePerToken

IRs:
TMP_115(uint256) = 10 ** 18
TMP_116(uint256) = msg.value * TMP_115
TMP_117(uint256) = TMP_116 / valuePerToken
tokenCount(uint256) := TMP_117(uint256)"];
1->2;
2[label="Node Type: EXPRESSION 2

EXPRESSION:
require(bool)(tokenCount > 0)

IRs:
TMP_118(bool) = tokenCount > 0
TMP_119(None) = SOLIDITY_CALL require(bool)(TMP_118)"];
2->3;
3[label="Node Type: IF 3

EXPRESSION:
tokensSent + tokenCount > CAP

IRs:
TMP_120(uint256) = tokensSent + tokenCount
TMP_121(bool) = TMP_120 > CAP
CONDITION TMP_121"];
3->4[label="True"];
3->5[label="False"];
4[label="Node Type: EXPRESSION 4

EXPRESSION:
tokenCount = CAP - tokensSent

IRs:
TMP_122(uint256) = CAP - tokensSent
tokenCount(uint256) := TMP_122(uint256)"];
4->5;
5[label="Node Type: END_IF 5
"];
5->6;
6[label="Node Type: EXPRESSION 6

EXPRESSION:
tokensSent += tokenCount

IRs:
tokensSent(uint256) = tokensSent + tokenCount"];
6->7;
7[label="Node Type: NEW VARIABLE 7

EXPRESSION:
contribution = (tokenCount * valuePerToken) / (10 ** 18)

IRs:
TMP_123(uint256) = tokenCount * valuePerToken
TMP_124(uint256) = 10 ** 18
TMP_125(uint256) = TMP_123 / TMP_124
contribution(uint256) := TMP_125(uint256)"];
7->8;
8[label="Node Type: IF 8

EXPRESSION:
msg.value > contribution && ! msg.sender.send(msg.value - contribution)

IRs:
TMP_126(bool) = msg.value > contribution
TMP_127(uint256) = msg.value - contribution
TMP_128 = SEND dest:msg.sender value:TMP_127
TMP_129 = UnaryType.BANG TMP_128 
TMP_130(bool) = TMP_126 && TMP_129
CONDITION TMP_130"];
8->9[label="True"];
8->10[label="False"];
9[label="Node Type: EXPRESSION 9

EXPRESSION:
revert()()

IRs:
TMP_131(None) = SOLIDITY_CALL revert()()"];
9->10;
10[label="Node Type: END_IF 10
"];
10->11;
11[label="Node Type: EXPRESSION 11

EXPRESSION:
fundBalance += contribution

IRs:
fundBalance(uint256) = fundBalance + contribution"];
11->12;
12[label="Node Type: EXPRESSION 12

EXPRESSION:
contributions[msg.sender] += contribution

IRs:
REF_89(uint256) -> contributions[msg.sender]
REF_89(-> contributions) = REF_89 + contribution"];
12->13;
13[label="Node Type: EXPRESSION 13

EXPRESSION:
sentTokens[msg.sender] += tokenCount

IRs:
REF_90(uint256) -> sentTokens[msg.sender]
REF_90(-> sentTokens) = REF_90 + tokenCount"];
13->14;
14[label="Node Type: IF 14

EXPRESSION:
! singularDTVToken.transfer(msg.sender,tokenCount)

IRs:
TMP_132(bool) = HIGH_LEVEL_CALL, dest:singularDTVToken(AbstractSingularDTVToken), function:transfer, arguments:['msg.sender', 'tokenCount']  
TMP_133 = UnaryType.BANG TMP_132 
CONDITION TMP_133"];
14->15[label="True"];
14->16[label="False"];
15[label="Node Type: EXPRESSION 15

EXPRESSION:
revert()()

IRs:
TMP_134(None) = SOLIDITY_CALL revert()()"];
15->16;
16[label="Node Type: END_IF 16
"];
16->17;
17[label="Node Type: IF 17

EXPRESSION:
stage == Stages.GoingAndGoalNotReached

IRs:
REF_92(SingularDTVLaunch.Stages) -> Stages.GoingAndGoalNotReached
TMP_135(bool) = stage == REF_92
CONDITION TMP_135"];
17->18[label="True"];
17->21[label="False"];
18[label="Node Type: IF 18

EXPRESSION:
tokensSent >= TOKEN_TARGET

IRs:
TMP_136(bool) = tokensSent >= TOKEN_TARGET
CONDITION TMP_136"];
18->19[label="True"];
18->20[label="False"];
19[label="Node Type: EXPRESSION 19

EXPRESSION:
stage = Stages.GoingAndGoalReached

IRs:
REF_93(SingularDTVLaunch.Stages) -> Stages.GoingAndGoalReached
stage(SingularDTVLaunch.Stages) := REF_93(SingularDTVLaunch.Stages)"];
19->20;
20[label="Node Type: END_IF 20
"];
20->21;
21[label="Node Type: END_IF 21
"];
21->22;
22[label="Node Type: IF 22

EXPRESSION:
stage == Stages.GoingAndGoalReached

IRs:
REF_94(SingularDTVLaunch.Stages) -> Stages.GoingAndGoalReached
TMP_137(bool) = stage == REF_94
CONDITION TMP_137"];
22->23[label="True"];
22->26[label="False"];
23[label="Node Type: IF 23

EXPRESSION:
tokensSent == CAP

IRs:
TMP_138(bool) = tokensSent == CAP
CONDITION TMP_138"];
23->24[label="True"];
23->25[label="False"];
24[label="Node Type: EXPRESSION 24

EXPRESSION:
stage = Stages.EndedAndGoalReached

IRs:
REF_95(SingularDTVLaunch.Stages) -> Stages.EndedAndGoalReached
stage(SingularDTVLaunch.Stages) := REF_95(SingularDTVLaunch.Stages)"];
24->25;
25[label="Node Type: END_IF 25
"];
25->26;
26[label="Node Type: END_IF 26
"];
26->27;
27[label="Node Type: EXPRESSION 27

EXPRESSION:
checkInvariants()

IRs:
INTERNAL_CALL, SingularDTVLaunch.checkInvariants()()"];
27->28;
28[label="Node Type: EXPRESSION 28

EXPRESSION:
Contributed(msg.sender,contribution,tokenCount)

IRs:
Emit Contributed(msg.sender,contribution,tokenCount)"];
28->29;
29[label="Node Type: RETURN 29

EXPRESSION:
tokenCount

IRs:
RETURN tokenCount"];
30[label="Node Type: EXPRESSION 30

EXPRESSION:
timedTransitions()

IRs:
MODIFIER_CALL, SingularDTVLaunch.timedTransitions()()"];
30->31;
31[label="Node Type: EXPRESSION 31

EXPRESSION:
atStageOR(Stages.GoingAndGoalNotReached,Stages.GoingAndGoalReached)

IRs:
REF_96(SingularDTVLaunch.Stages) -> Stages.GoingAndGoalNotReached
REF_97(SingularDTVLaunch.Stages) -> Stages.GoingAndGoalReached
MODIFIER_CALL, SingularDTVLaunch.atStageOR(SingularDTVLaunch.Stages,SingularDTVLaunch.Stages)(REF_96,REF_97)"];
31->1;
}
