['function', '', 'finalize', '', 'external', '', '{', '', 'if', '', 'msg', '.', 'sender', '', '', '', '', 'ethFundDeposit', '', 'throw', '', '', 'if', '', 'block', '.', 'number', '', '<', '', '', 'fundingEndBlock', '', '', '&', '', '&', '', 'totalSupply', '', '<', '', 'tokenCreationCap', '', 'throw', '', '', 'if', '', '', 'ethFundDeposit', '.', 'send', 'this', '.', 'balance', '', 'throw', '', '', 'uint256', '', 'remainingSupply', '', '', '', 'safeSubtract', 'tokenCreationCap', '', '', 'totalSupply', '', '', 'if', '', 'remainingSupply', '', '>', '', '0', '', '{', '', 'uint256', '', 'updatedSupply', '', '', '', 'safeAdd', 'totalSupply', '', '', 'remainingSupply', '', '', 'totalSupply', '', '', '', 'updatedSupply', '', '', 'balances', '', 'gunsFundDeposit', '', '', '', '', '', 'remainingSupply', '', '', 'CreateGUNS', 'gunsFundDeposit', '', '', 'remainingSupply', '', '', '}', '', 'isFinalized', '', '', '', 'true', '', '', '}', '']
['function', '', 'refund', '', 'external', '', '{', '', 'if', '', 'isFinalized', '', 'throw', '', '', 'if', '', 'block', '.', 'number', '', '<', '', '', 'fundingEndBlock', '', 'throw', '', '', 'if', '', 'totalSupply', '', '>', '', '', 'tokenCreationMin', '', 'throw', '', '', 'if', '', 'msg', '.', 'sender', '', '', '', '', 'gunsFundDeposit', '', 'throw', '', '', 'uint256', '', 'gunsVal', '', '', '', 'balances', '', 'msg', '.', 'sender', '', '', '', 'if', '', 'gunsVal', '', '', '', '', '0', '', 'throw', '', '', 'balances', '', 'msg', '.', 'sender', '', '', '', '', '0', '', '', 'totalSupply', '', '', '', 'safeSubtract', 'totalSupply', '', '', 'gunsVal', '', '', 'uint256', '', 'ethVal', '', '', '', 'gunsVal', '', '', '', 'tokenExchangeRate', '', '', 'LogRefund', 'msg', '.', 'sender', '', '', 'ethVal', '', '', 'if', '', '', 'msg', '.', 'sender', '.', 'send', 'ethVal', '', 'throw', '', '', '}', '']
['function', '', 'withdrawPayments', '', '{', '', 'address', '', 'payee', '', '', '', 'msg', '.', 'sender', '', '', 'uint', '', 'payment', '', '', '', 'payments', '', 'payee', '', '', '', 'if', '', 'payment', '', '', '', '', '0', '', '{', '', 'throw', '', '', '}', '', 'if', '', 'this', '.', 'balance', '', '<', '', 'payment', '', '{', '', 'throw', '', '', '}', '', 'payments', '', 'payee', '', '', '', '', '0', '', '', 'if', '', '', 'payee', '.', 'send', 'payment', '', '{', '', 'throw', '', '', '}', '', 'LogRefundETH', 'payee', '', 'payment', '', '', '}', '']
['function', '', 'finalize', '', 'onlyOwner', '', 'public', '', '{', '', 'if', '', 'now', '', '<', '', 'endTime', '', '{', '', 'if', '', 'coinSentToEther', '', '', '', '', 'MAX_CAP', '', '{', '', '}', '', 'else', '', '{', '', 'throw', '', '', '}', '', '}', '', 'if', '', 'coinSentToEther', '', '<', '', 'MIN_CAP', '', '', '&', '', '&', '', 'now', '', '<', '', 'endTime', '', '', '', '15', '', 'days', '', 'throw', '', '', 'if', '', '', 'multisigEther', '.', 'send', 'this', '.', 'balance', '', 'throw', '', '', 'uint', '', 'remains', '', '', '', 'coin', '.', 'balanceOf', 'this', '', '', 'if', '', 'remains', '', '>', '', '0', '', '{', '', 'if', '', '', 'coin', '.', 'burn', 'remains', '', 'throw', '', '', '', '}', '', 'crowdsaleClosed', '', '', '', 'true', '', '', '}', '']
['function', '', 'drain', '', 'onlyOwner', '', '{', '', 'if', '', '', 'owner', '.', 'send', 'this', '.', 'balance', '', 'throw', '', '', '}', '']
['function', '', 'withdrawPayments', '', 'public', '', '{', '', 'address', '', 'payee', '', '', '', 'msg', '.', 'sender', '', '', 'uint256', '', 'payment', '', '', '', 'payments', '', 'payee', '', '', '', 'require', 'payment', '', '', '', '', '0', '', '', 'require', 'this', '.', 'balance', '', '>', '', '', 'payment', '', '', 'totalPayments', '', '', '', 'totalPayments', '.', 'sub', 'payment', '', '', 'payments', '', 'payee', '', '', '', '', '0', '', '', 'assert', 'payee', '.', 'send', 'payment', '', '', '}', '']
['function', '', '_sendFunds', 'address', '', 'beneficiary', '', '', 'uint256', '', 'amount', '', 'internal', '', '{', '', 'if', '', '', 'beneficiary', '.', 'send', 'amount', '', '{', '', 'asyncSend', 'beneficiary', '', '', 'amount', '', '', '}', '', '}', '']
['function', '', 'investInternal', 'address', '', 'receiver', '', '', 'uint128', '', 'customerId', '', 'stopInEmergency', '', 'private', '', '{', '', 'if', 'getState', '', '', '', '', 'State', '.', 'PreFunding', '', '{', '', 'throw', '', '', '}', '', 'else', '', 'if', 'getState', '', '', '', '', 'State', '.', 'Funding', '', '{', '', 'if', 'isWhiteListed', '', '{', '', 'if', '', 'earlyParticipantWhitelist', '', 'receiver', '', '.', 'status', '', '{', '', 'throw', '', '', '}', '', '}', '', '}', '', 'else', '', '{', '', 'throw', '', '', '}', '', 'uint', '', 'weiAmount', '', '', '', 'msg', '.', 'value', '', '', 'uint', '', 'tokenAmount', '', '', '', 'pricingStrategy', '.', 'calculatePrice', 'weiAmount', '', '', 'weiRaised', '', '', 'tokensSold', '', '', 'msg', '.', 'sender', '', '', 'token', '.', 'decimals', '', '', 'if', 'tokenAmount', '', '', '', '', '0', '', '{', '', 'throw', '', '', '}', '', 'if', 'isWhiteListed', '', '{', '', 'if', 'tokenAmount', '', '<', '', 'earlyParticipantWhitelist', '', 'receiver', '', '.', 'minCap', '', '', '&', '', '&', '', 'tokenAmountOf', '', 'receiver', '', '', '', '', '', '0', '', '{', '', 'throw', '', '', '}', '', 'if', '', 'isBreakingInvestorCap', 'receiver', '', '', 'tokenAmount', '', '{', '', 'throw', '', '', '}', '', 'updateInheritedEarlyParticipantWhitelist', 'receiver', '', '', 'tokenAmount', '', '', '}', '', 'else', '', '{', '', 'if', 'tokenAmount', '', '<', '', 'token', '.', 'minCap', '', '', '&', '', '&', '', 'tokenAmountOf', '', 'receiver', '', '', '', '', '', '0', '', '{', '', 'throw', '', '', '}', '', '}', '', 'if', 'investedAmountOf', '', 'receiver', '', '', '', '', '', '0', '', '{', '', 'investorCount', '', '', '', '', '}', '', 'investedAmountOf', '', 'receiver', '', '', '', '', 'investedAmountOf', '', 'receiver', '', '.', 'plus', 'weiAmount', '', '', 'tokenAmountOf', '', 'receiver', '', '', '', '', 'tokenAmountOf', '', 'receiver', '', '.', 'plus', 'tokenAmount', '', '', 'weiRaised', '', '', '', 'weiRaised', '.', 'plus', 'weiAmount', '', '', 'tokensSold', '', '', '', 'tokensSold', '.', 'plus', 'tokenAmount', '', '', 'if', 'isBreakingCap', 'weiAmount', '', '', 'tokenAmount', '', '', 'weiRaised', '', '', 'tokensSold', '', '{', '', 'throw', '', '', '}', '', 'assignTokens', 'receiver', '', '', 'tokenAmount', '', '', 'if', '', 'multisigWallet', '.', 'send', 'weiAmount', '', 'throw', '', '', 'Invested', 'receiver', '', '', 'weiAmount', '', '', 'tokenAmount', '', '', 'customerId', '', '', '}', '']
